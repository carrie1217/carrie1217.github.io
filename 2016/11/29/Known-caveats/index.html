<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="欢迎大家来到我的博客，希望可以帮到你们，很高兴认识你们。我的github地址：https:github.com/kevin1202"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>Butterknife - Kevin博客</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><div class="post-header"><img class="background" src="/default_images/post_background.jpg"><div class="post-title"><h1 class="title">Butterknife</h1><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>2 Minutes</li><li><i class="icon icon-calendar"></i>2016年11月29日</li></ul></div></div><div class="article-content"><h2 id="Butterknife"><a href="#Butterknife" class="headerlink" title="Butterknife"></a>Butterknife</h2><p>To use butterknife with buck, you need to use <code>R2</code> instead of <code>R</code> in all (library &amp; app) android gradle modules.</p>
<ul>
<li>Apply the Butterknife Gradle Plugin </li>
<li>Change <code>@BindView(R.id.foo)</code> to <code>@BindView(R2.id.foo)</code>.</li>
</ul>
<h2 id="AIDL"><a href="#AIDL" class="headerlink" title="AIDL"></a>AIDL</h2><p>If you implement parcelable in your aidl, you need create a separate gradle library module containing those custom implementations, otherwise BUCK build will fail. See the example of <a href="https://github.com/OkBuilds/OkBuck/tree/master/libraries/common" target="_blank" rel="external">common module</a> and <a href="https://github.com/OkBuilds/OkBuck/tree/master/libraries/parcelable" target="_blank" rel="external">parcelable module</a>.</p>
<h2 id="IntelliJ-Auto-Generated-Classes"><a href="#IntelliJ-Auto-Generated-Classes" class="headerlink" title="IntelliJ Auto Generated Classes"></a>IntelliJ Auto Generated Classes</h2><p>IntelliJ will auto generate some Android classes for use by the IDE, namely <code>R.java</code>, <code>BuildConfig.java</code> and <code>Manifest.java</code>, this can be disabled by setting the following in the <code>.buckconfig</code> before running <code>./buckw project</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[project]</div><div class="line">    disable_r_java_idea_generator = true</div></pre></td></tr></table></figure>
<p>As a result, each generated <code>.iml</code> file will have <code>&lt;option name=&quot;ENABLE_SOURCES_AUTOGENERATION&quot; value=&quot;false&quot; /&gt;</code> and IntelliJ will not attempt to generate the classes for that module.</p>
<h2 id="Fabric"><a href="#Fabric" class="headerlink" title="Fabric"></a>Fabric</h2><p>Fabric crash report gradle plugin will generate an unique uuid during the gradle build and will upload this uuid to its server. This uuid will be used at runtime of your application. More details can be found at <a href="https://github.com/Piasy/OkBuck/issues/10" target="_blank" rel="external">#10</a>. To work around it,</p>
<ul>
<li>Do not use Fabric in debug builds i.e do not call Fabric.with(…) method</li>
<li>Use buck for debug builds and gradle for release builds</li>
</ul>
<h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul>
<li>Incompatible with AndroidAnnotations</li>
<li>Sub modules must be located inside root project dir</li>
</ul>
</div><div class="article-meta"></div><div class="article-comment"><div class="ds-thread" id="ds-thread" data-thread-key="ciwbwd9qe0003l0v9bn8pnayr" data-title="Butterknife" data-url="https://kevin1202.github.io/2016/11/29/Known-caveats/" site-name="kevinbolg"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2016/11/29/OkBuck-Overview/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/kevin1202" title="GitHub" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/u/5052645262" title="Weibo" target="_blank"><i class="icon icon-weibo"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2016 Kevin博客</p></div></div></body></html>