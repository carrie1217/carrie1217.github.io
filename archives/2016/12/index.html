<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="欢迎大家来到我的博客，希望可以帮到你们，很高兴认识你们。我的github地址：https:github.com/kevin1202"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>Kevin博客 - 梦想还是要有的，万一实现了呢？</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><div class="page-header"><div class="background"><img src="/default_images/page_background.jpg"></div><div class="author"><div class="head"><img src="/default_images/author_head.gif"></div><h3 class="name">Kevin</h3><p class="signature">梦想还是要有的，万一实现了呢？</p></div></div><ul class="post-list"><li> <p class="date">2016年12月5日</p><div class="no-title"><ol>
<li>开发微信时如果使用的肯定是dubug的keyStore或者中间更换了keyStore。<br>分享的时候会被微信拒绝，微信会生成缓存，就算换了正式的keystore来分享显示的还会是被微信拒绝。<br>就算重启微信重启手机也不管用，那你就要清空微信的数据。</li>
</ol>
</div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>0 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"></div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>0 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"></div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>0 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"><ol>
<li>定义变量时，UI变量单独放一块，数据变量放一块，空行隔开不要掺杂在一块。</li>
<li><p>使用UIL时，如果只是简单加载一个图片的bitmap，可以使用SimpleImageLoadingListener方法，而不是ImageLoadingListener。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">imageLoader.displayImage(detailModel.getData().getPicture(), </div><div class="line">                        headerBg, </div><div class="line">                        new SimpleImageLoadingListener() &#123;</div><div class="line"></div><div class="line">                    @Override</div><div class="line">                    public void onLoadingComplete(String imageUri, View view, Bitmap loadedImage) &#123;</div><div class="line">                        headerBg.setImageBitmap(loadedImage);</div><div class="line">                        setBitmap(loadedImage);</div><div class="line">                    &#125;</div><div class="line"></div><div class="line">                &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>Activity或Fragment中对adapter.updateDataSet(data);时，<code>notifyDataSetChanged</code>的操作放在adapter的updateDataSet方法内执行。</p>
</li>
<li><p>外部启动activity时，调用该activity的静态方法，例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">public static Intent newInstance(Context context, int tabIndexIfNeeded) &#123;</div><div class="line">    Intent intent = new Intent(context, UserGuideActivity.class);</div><div class="line">    intent.putExtra(Constants.KEY_WHICH_TAB, tabIndexIfNeeded);</div><div class="line">    return intent;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>而外表类实例化该activity的intent的方法是<br><code>final Intent intent = UserGuideActivity.newInstance(this, UserGuideConstants.OPEN_BIZ_AREAS_GUIDE_VIEW);</code></p>
<p>类似地，启动fragment时，调用该fragment的静态方法，例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public static GuiseFragment newInstance(NGGuiseGroup guiseGroup) &#123;</div><div class="line">     GuiseFragment fragment = new GuiseFragment();</div><div class="line">     Bundle bundle = new Bundle();</div><div class="line">     bundle.putSerializable(EXTRA_GUISE_GROUP, guiseGroup);</div><div class="line">     fragment.setArguments(bundle);</div><div class="line">     return fragment;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>而外表类实例化该fragment的方法是<br><code>final GuiseFragment guiseFragment = GuiseFragment.newInstance(guiseGroup);</code></p>
</li>
<li><p>发起网络请求之前，务必检测网络状态，只有网络可用时才允许发起网络请求。网络不可用时提示网络连接错误，不允许发起网络请求。<br>例如  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">if (!Utils.isNetworkOn()) &#123;</div><div class="line">    showShortToast(R.string.network_down);</div><div class="line">&#125; else</div><div class="line">  net.getArticlePostDetail(APIKey.KEY_ARTICLE_POST_DETAIL, token, String.valueOf(postId), String.valueOf(postType));</div></pre></td></tr></table></figure>
<p>特殊地，比如视频播放只允许wifi网络下才可以播放，非wifi网络下中断播放。</p>
</li>
</ol>
<h2 id="必读材料"><a href="#必读材料" class="headerlink" title="必读材料"></a>必读材料</h2><ol>
<li><a href="https://github.com/futurice/android-best-practices/blob/master/translations/Chinese/README.cn.md" target="_blank" rel="external">Android 开发最佳实践</a></li>
</ol>
</div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>4 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"><h1 id="应用缓存导致的错误"><a href="#应用缓存导致的错误" class="headerlink" title="应用缓存导致的错误"></a>应用缓存导致的错误</h1><h3 id="错误的场景"><a href="#错误的场景" class="headerlink" title="错误的场景"></a>错误的场景</h3><ol>
<li>作品集-头部轮播图片-显示的图片和服务器要展示的图片不一致</li>
<li>曾经在使用应用时登录成功，再次使用时崩溃。比如查看优惠券时崩溃。</li>
</ol>
<h3 id="解决的办法"><a href="#解决的办法" class="headerlink" title="解决的办法"></a>解决的办法</h3><ol>
<li>系统-应用-南瓜姑娘-清理缓存</li>
<li>删除SD卡上的nggirl文件夹</li>
</ol>
<h1 id="系统推送导致的错误"><a href="#系统推送导致的错误" class="headerlink" title="系统推送导致的错误"></a>系统推送导致的错误</h1><h3 id="错误的场景-1"><a href="#错误的场景-1" class="headerlink" title="错误的场景"></a>错误的场景</h3><ol>
<li>服务器端有环信聊天信息推送到用户端时，首次打开应用导致崩溃</li>
</ol>
<h3 id="解决的办法-1"><a href="#解决的办法-1" class="headerlink" title="解决的办法"></a>解决的办法</h3><ol>
<li>可能是JSON解析出错导致的，在代码中解决</li>
</ol>
<h1 id="SD卡读取或者写入导致的错误"><a href="#SD卡读取或者写入导致的错误" class="headerlink" title="SD卡读取或者写入导致的错误"></a>SD卡读取或者写入导致的错误</h1><h3 id="错误的场景-2"><a href="#错误的场景-2" class="headerlink" title="错误的场景"></a>错误的场景</h3><ol>
<li>SD卡不可写</li>
</ol>
<h3 id="解决的办法-2"><a href="#解决的办法-2" class="headerlink" title="解决的办法"></a>解决的办法</h3><ol>
<li>重启手机</li>
<li>断开USB连接</li>
</ol>
<h1 id="网络异常导致的错误"><a href="#网络异常导致的错误" class="headerlink" title="网络异常导致的错误"></a>网络异常导致的错误</h1><h3 id="错误的场景-3"><a href="#错误的场景-3" class="headerlink" title="错误的场景"></a>错误的场景</h3><ol>
<li>断网时</li>
<li>网络较慢时，数据加载未完成时，用户执行某些需要加载到本地的数据的操作时导致崩溃</li>
</ol>
<h3 id="解决的办法-3"><a href="#解决的办法-3" class="headerlink" title="解决的办法"></a>解决的办法</h3><ol>
<li>添加对网络异常的判断</li>
</ol>
<h3 id="解决的办法-4"><a href="#解决的办法-4" class="headerlink" title="解决的办法"></a>解决的办法</h3></div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>1 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"><p>这里需要注意的是在使用BroadcastReceiver的时候，不必要的声明注册会浪费系统资源。最好在 onCreate()中注册 BroadcastReceiver NetworkReceiver，在 onDestroy()中销毁它。这样做会比在 manifest 里面声明 更轻巧。</p>
</div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>0 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"><p>#不对0x80以上的字符进行quote，解决git status/commit时中文文件名乱码<br><code>git config --global core.quotepath false</code></p>
<p><a href="http://xstarcd.github.io/wiki/shell/git_chinese.html" target="_blank" rel="external">http://xstarcd.github.io/wiki/shell/git_chinese.html</a></p>
</div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>0 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"><p><a href="http://www.jianshu.com/p/2be492c1df96#" target="_blank" rel="external">可能是讲解Android事件分发最好的文章</a></p>
</div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>0 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"><ol>
<li>我的－消息－评论列表，弹出键盘会把评论列表（1条时）挤出屏幕</li>
<li>登录页面－点击输入框弹出键盘，logo消失－当输入内容时－logo会再次出现</li>
<li>[B端]点击商圈－打不开（页面闪退）</li>
<li>[B端]用户注册时，填入手机号点击“发送验证码”，系统发生错误，跳转到登录页</li>
<li>手势返回</li>
<li>视频加入第一帧配图</li>
<li>我的－消息－评论列表，弹出键盘会把评论列表（1条时）挤出屏幕</li>
<li>禅道上的bug修复</li>
<li>C端列表滑动标题栏渐变动画</li>
<li>已知bug，需要紧急修复。timer问题</li>
<li>登录页面动画效果</li>
<li>C端重构任务</li>
<li>发版本</li>
<li>任务排期 网络异常处理</li>
<li>个人资料显示性别时崩溃<a href="http://testcli2.nggirl.com.cn/zentaopms/www/index.php?m=bug&amp;f=view&amp;bugID=476" target="_blank" rel="external">http://testcli2.nggirl.com.cn/zentaopms/www/index.php?m=bug&amp;f=view&amp;bugID=476</a></li>
<li>乐视页面导致的，需要找到解决方案<a href="http://testcli2.nggirl.com.cn/zentaopms/www/index.php?m=bug&amp;f=view&amp;bugID=480" target="_blank" rel="external">http://testcli2.nggirl.com.cn/zentaopms/www/index.php?m=bug&amp;f=view&amp;bugID=480</a></li>
<li>OutOfMemoryError内存溢出<a href="http://testcli2.nggirl.com.cn/zentaopms/www/index.php?m=bug&amp;f=view&amp;bugID=516" target="_blank" rel="external">http://testcli2.nggirl.com.cn/zentaopms/www/index.php?m=bug&amp;f=view&amp;bugID=516</a></li>
<li>文章详情数据解析崩溃，<a href="http://testcli2.nggirl.com.cn/zentaopms/www/index.php?m=bug&amp;f=view&amp;bugID=521" target="_blank" rel="external">http://testcli2.nggirl.com.cn/zentaopms/www/index.php?m=bug&amp;f=view&amp;bugID=521</a></li>
</ol>
</div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>1 Minutes</li><li><i class="icon icon-category"></i></li></ul></li><li> <p class="date">2016年12月5日</p><div class="no-title"><p>可以通过如下方式处理“发送”按钮按下后，进一步的行为，比如，隐藏软键盘。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">medtMessage.setOnEditorActionListener(new TextView.OnEditorActionListener() &#123;</div><div class="line">            @Override</div><div class="line">            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) &#123;</div><div class="line">                if (actionId == EditorInfo.IME_ACTION_SEND) &#123;</div><div class="line">                    /* 隐藏软键盘 */</div><div class="line">                    hideKeyboard();</div><div class="line">                    String message = medtMessage.getText().toString().trim();</div><div class="line">                    sendText(message);</div><div class="line">                    return true;</div><div class="line">                &#125;</div><div class="line">                return false;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div></pre></td></tr></table></figure></p>
</div><ul class="meta"><li><i class="icon icon-author"></i>Kevin</li><li><i class="icon icon-clock"></i>1 Minutes</li><li><i class="icon icon-category"></i></li></ul></li></ul><ul class="pagination"><li class="current"><a>1</a></li><li class="link"><a href="/archives/2016/12/page/2/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/kevin1202" title="GitHub" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/u/5052645262" title="Weibo" target="_blank"><i class="icon icon-weibo"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2016 Kevin博客</p></div></div></body></html>